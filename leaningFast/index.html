<!DOCTYPE html>
<html>

<head>
    <title>Learning Fast</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styletabelaResult.css">
    <link rel="stylesheet" href="css/modal-style.css">
    <script src="scripts/jquery-3.5.1.min.js"></script>
    <script src='tabela.js' type='text/javascript'></script>
    <script type='text/javascript'>var total = 0;</script>
    <link rel="shortcut icon" href="icons/icons.ico">
    <link rel="icon" type="image/png" href="icons/money.png">
</head>

<body>


    <table id="tabelaResultado">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Quantidade</th>
                <th>Preço</th>
                <th>Subtotal</th>
            </tr>
        </thead>
    </table>
    <div class="total-container">
        <div class='total1'>
            Total = R$ <span id="totalVal"> </span>
            <br>
        </div>
    </div>
    <div class='limpar'>
        <button class="btn-limpar">Limpar</button>
    </div>


    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="input-group">
                    <br><input type="text" class="form-control" id="descricao" placeholder="Buscar por..."><br>
                    <span class="input-group-btn">
                        <br><button class="btn btn-default" id="buscar" type="button">Buscar</button>
                    </span>
                </div>
            </div>
        </div>
        <div id="dados"></div>
    </div>


    <script>
        function buscar(palavra) {
            //O método $.ajax(); é o responsável pela requisição
            $.ajax
                ({
                    //Configurações
                    type: 'POST',//Método que está sendo utilizado.
                    dataType: 'html',//É o tipo de dado que a página vai retornar.
                    url: 'busca.php',//Indica a página que está sendo solicitada.
                    //função que vai ser executada assim que a requisição for enviada
                    beforeSend: function () {
                        $("#dados").html("<image src='icons/load-fundo.gif' width=60%'>");
                    },
                    data: { palavra: palavra },//Dados para consulta
                    //função que será executada quando a solicitação for finalizada.
                    success: function (msg) {
                        $("#dados").html(msg);
                    }
                });
        }


        $('#buscar').click(function () {
            buscar($("#descricao").val())
        });
    </script>

    <div class="modal-conteiner" id="modal-id">
        <div class="modal">
            <button class="btn-fechar" onclick="fecharModal('modal-id')">x</button>
            <h1 id='txt-descricao'>Produto Teste</h1>

            <input type="number" class="input-descricao" placeholder="Digite a quantidade">
            <input type="button" class="btn-qtd" value="Adicionar">

        </div>
    </div>
    <script src="scripts/modal.js" type="text/javascript"></script>
</body>

</html>